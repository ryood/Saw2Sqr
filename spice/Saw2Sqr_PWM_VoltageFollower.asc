Version 4
SHEET 1 880 776
WIRE -208 -16 -352 -16
WIRE -208 0 -208 -16
WIRE -352 16 -352 -16
WIRE 256 96 240 96
WIRE -352 112 -352 96
WIRE 240 112 240 96
WIRE -208 128 -208 80
WIRE -144 128 -208 128
WIRE -32 128 -64 128
WIRE 208 128 -32 128
WIRE 288 144 272 144
WIRE 384 144 368 144
WIRE 416 144 384 144
WIRE -208 160 -208 128
WIRE -32 160 -32 128
WIRE 208 160 112 160
WIRE 112 176 112 160
WIRE 384 176 384 144
WIRE 240 192 240 176
WIRE 256 192 240 192
WIRE -432 240 -448 240
WIRE -448 272 -448 240
WIRE -256 272 -384 272
WIRE -32 272 -32 240
WIRE 112 272 112 256
WIRE 384 272 384 256
WIRE -304 320 -320 320
WIRE -320 336 -320 320
WIRE -384 352 -384 272
WIRE -352 352 -384 352
WIRE -256 368 -256 272
WIRE -256 368 -288 368
WIRE -208 368 -208 240
WIRE -208 368 -256 368
WIRE -448 384 -448 352
WIRE -352 384 -448 384
WIRE -448 416 -448 384
WIRE -320 416 -320 400
WIRE -304 416 -320 416
WIRE 304 432 288 432
WIRE 384 432 368 432
WIRE 288 448 288 432
WIRE 368 448 368 432
WIRE -448 528 -448 496
FLAG 240 96 VCC
FLAG 240 192 VEE
FLAG 112 272 0
FLAG 384 272 0
FLAG 416 144 OUT
IOPIN 416 144 Out
FLAG -352 112 0
FLAG 288 528 0
FLAG 368 528 0
FLAG 288 432 VCC
FLAG 368 432 VEE
FLAG -352 -16 PWM
FLAG 112 160 IN
FLAG -32 272 0
FLAG -448 528 0
FLAG -448 240 VCC
FLAG -320 320 VCC
FLAG -320 416 VEE
SYMBOL Opamps\\UniversalOpamp2 240 144 R0
SYMATTR InstName U1
SYMBOL voltage 112 160 R0
WINDOW 3 -15 151 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(-5 5 0 1m 0 0 1m)
SYMATTR InstName V1
SYMBOL res 384 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 2.2k
SYMBOL res 368 272 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 1.8k
SYMBOL voltage -352 0 R0
WINDOW 3 -67 153 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 3 100)
SYMATTR InstName V2
SYMBOL voltage 288 432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL voltage 368 432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value -12
SYMBOL res -48 144 R0
SYMATTR InstName R3
SYMATTR Value 2.2Meg
SYMBOL res -48 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 220k
SYMBOL res -224 144 R0
SYMATTR InstName R5
SYMATTR Value {R}
SYMBOL res -224 -16 R0
SYMATTR InstName R6
SYMATTR Value {50k-R}
SYMBOL res -464 256 R0
WINDOW 0 -36 34 Left 2
WINDOW 3 -179 66 Left 2
SYMATTR InstName R7
SYMATTR Value {68k+50k-RM}
SYMBOL res -464 400 R0
WINDOW 0 -44 44 Left 2
WINDOW 3 -70 75 Left 2
SYMATTR InstName R8
SYMATTR Value {RM}
SYMBOL Opamps\\UniversalOpamp2 -320 368 R0
SYMATTR InstName U2
TEXT -144 528 Left 2 !.tran 15m
TEXT -144 432 Left 2 !.param R=25k
TEXT -144 464 Left 2 !.param  RM=25k
